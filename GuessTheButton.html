<html>
<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
<body>
  <div class="container text-center">
    <h1>Guess the Button:</h1>
    <div class="container my-5">
      <h2>Choose the number of buttons</h2>
      <input id="numberOfButtons" type="number" name="choose" value="3">
      <button onclick = "start()" class="btn btn-success">Start Game</button>
    </div>
    <div id = "button">
    </div>
  </div>


  <div class="modal" id="modal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">

        <div class="modal-header">
          <h4 class="modal-title">Congratulations, you win!</h4>
        </div>

        <div class="modal-body">
          This is the right button!
        </div>

        <div class="modal-footer">
          <button onclick="location.reload()" type="button" class="btn btn-success" data-dismiss="modal">Close</button>
        </div>

      </div>
    </div>
  </div>

  <script>
  var x, win, buttons = 0;
  function start() {
    x = document.getElementById("numberOfButtons");
    if (x.value > 10000 || x.value <= 0) {
      $(".modal-title").text("Error");
      $(".modal-body").text("We can't generate the number of buttons.");
      $("#modal").modal();
      return;
    }
    while (buttons < x.value) {
      var text = "Button " + buttons;
      var button = "<button id = \"" + buttons + "\" onclick = \"checkButton(id)\" class=\"btn btn-success m-5\" > button " + buttons + " </button>";
      document.getElementById("button").innerHTML += button;
      buttons++;
    }
    win = Math.floor(Math.random() * buttons);
  }

  function checkButton(id) {
    if (win == id) {
      $(".modal-title").text("Congratulations!");
      $(".modal-body").text("This is the right button.");
      $("#modal").modal();
    } else {
      $(".modal-title").text("Try again!");
      $(".modal-body").text("This is the wrong button.");
      $("#modal").modal();
    }
  }
</script>
</body>
</html>
